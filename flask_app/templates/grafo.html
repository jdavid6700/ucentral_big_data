{% extends "base.html" %}

{% block content %}

<h3 class="fw-bold mb-4">Grafo Interactivo de Similitudes</h3>

<form method="POST" class="card card-custom p-4 mb-4">

    <label class="form-label fw-semibold">Umbral mínimo de similitud</label>
    <input type="number" step="0.01" min="0" max="1"
           class="form-control search-box"
           name="umbral"
           value="{{ umbral or 0.5 }}">

    <button class="btn btn-dark mt-3 w-100">
        <i class="fa-solid fa-diagram-project"></i> Generar Grafo
    </button>

</form>

{% if total_relaciones %}
<div class="alert alert-info">
    Total de relaciones posibles (n·(n−1)/2): 
    <b>{{ total_relaciones }}</b>
</div>
{% endif %}

{% if grafo %}
<div class="card card-custom p-4 shadow-sm">

    <h5 class="fw-semibold mb-3">Visualización Interactiva</h5>

    <iframe src="{{ grafo }}"
            style="width:100%; height:750px; border:none; border-radius:12px;
                   box-shadow: rgba(0,0,0,.25) 0px 4px 14px;">
    </iframe>

</div>
{% endif %}

{% endblock %}
